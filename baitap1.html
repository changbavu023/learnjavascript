<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bài tập 1</title>
  </head>
  <body>
    <input id="ip1" placeholder="Nhap a" />
    <br />
    <input id="ip2" placeholder="Nhap b" />
    <select id="chonpheptoan">
      <option>+</option>
      <option>-</option>
      <option>*</option>
      <option>/</option>
    </select>
    <br />
    <button onclick="main()">Submit</button>
    <br />
    <br />
    <input disabled id="ketqua" placeholder="Kết quả" />
    <p id="p1">Switch case</p>
    <!-- <input id="ketqua" placeholder="Kết quả" /> -->
  </body>
  <script>
    function main() {
      var a = document.getElementById("ip1").value;
      var b = document.getElementById("ip2").value;
      var chon = document.getElementById("chonpheptoan").value;
      var kq = 0;
      var kq1 = 0;
      /* Testing:
      - Kiểm tra để trống: OK
      - Kiểm tra quy định value : phải là number (Tùy vào chương trình:string,boolean,...)
      - Kiểm tra min max
      - Kiem tra truong hop dac biet (vd: bài này là b không được = 0 đối với phép chia)
      */
      //NaN là not a number là không phải số
      //isNaN("abc")=true , isNaN(123)=false

      if (a == "") {
        //neu a để trống ( chưa nhập )
        //xu ly bao loi
        alert("Bạn chưa nhập a");
        return kq;
      } else if (b == "") {
        alert("Bạn chưa nhập b");
        return kq;
      }

      if (isNaN(a) == true) {
        //kiem tra du lieu cua a co phai chua hay ko?
        alert("Bạn nhập sai kiểu dữ liệu của a");
        return kq;
      }

      if (isNaN(b) == true) {
        //kiem tra du lieu cua a co phai chua hay ko?
        alert("Bạn nhập sai kiểu dữ liệu của b");
        return kq;
      }

      //kiem tra value a >= 1 & a <= 10
      if (a < 1 || a > 10) {
        alert("Bạn phải nhập a tu 1-10");
        return kq;
      }
      if (b < 1 || b > 100) {
        alert("Bạn phải nhập b tu 1-100");
        return kq;
      }

      //Method 1: if else
      if (chon == "+") {
        kq1 = parseInt(a) + parseInt(b);
      } else if (chon == "-") {
        kq1 = a - b;
      } else if (chon == "*") {
        kq1 = a * b;
      } else {
        if (b == 0) {
          alert("Không thể chia được cho 0");
          return kq1;
        } else {
          kq1 = a / b;
        }
      }
      document.getElementById("ketqua").value = kq1;

      //Method 2: switch case, kiem tra value cua 1 bien(1 ket qua)
      switch (chon) {
        case "+":
          kq = parseFloat(a) + parseFloat(b);
          // kq = Math.round(kq);
          kq = kq.toFixed(2);
          break;
        case "-":
          kq = a - b;
          break;
        case "*":
          kq = a * b;
          break;
        case "/":
          kq = a / b;
          break;
        default:
          alert("Bạn phải chọn đúng cách tính");
          break;
      }
      document.getElementById("p1").innerHTML = kq;
    }
    /*
        Viet chuong trinh may tinh + - * / cua 2 so dc nguoi dung nhap
        Hien thi len giao dien web
    */
  </script>
</html>
